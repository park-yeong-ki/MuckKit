{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport router from \"@/router\";\nexport default {\n  components: {},\n  data() {\n    return {\n      tag: \"\",\n      plan: {\n        title: \"\",\n        startDate: \"\",\n        endDate: \"\",\n        description: \"\",\n        hashtag: []\n      }\n    };\n  },\n  props: {\n    writer: String\n  },\n  computed: {\n    memberId() {\n      return this.$store.getters.getMemberId;\n    },\n    planTitle() {\n      return this.$store.getters.getPlanTitle;\n    },\n    planDesc() {\n      return this.$store.getters.getPlanDesc;\n    },\n    planStartDate() {\n      return this.$store.getters.getPlanStartDate;\n    },\n    planEndDate() {\n      return this.$store.getters.getPlanEndDate;\n    },\n    planHashtag() {\n      return this.$store.getters.getPlanHashtag;\n    },\n    attractionList() {\n      return this.$store.getters.getTempAttractionList;\n    }\n  },\n  created() {},\n  methods: {\n    removeHashtag(idx) {\n      this.plan.hashtag.splice(idx, 1);\n    },\n    addHashtag() {\n      this.plan.hashtag.push({\n        tagName: this.tag\n      });\n      this.tag = \"\";\n    },\n    viewDetail(att) {\n      this.$emit(\"readAttraction\", att);\n    },\n    moveList() {\n      router.push({\n        name: 'planlist'\n      });\n    },\n    resetModal() {\n      this.plan.title = this.planTitle;\n      this.plan.description = this.planDesc;\n      this.plan.startDate = this.planStartDate;\n      this.plan.endDate = this.planEndDate;\n      this.tag = \"\";\n      this.plan.hashtag = this.planHashtag;\n    },\n    handleOk(bvModalEvent) {\n      // Prevent modal from closing\n      bvModalEvent.preventDefault();\n      // Trigger submit handler\n      // this.handleSubmit();\n      // this.$router.push(\"view\");\n      this.handleSubmit();\n    },\n    handleSubmit() {\n      // Exit when the form isn't valid\n      if (!this.plan.title || !this.plan.description || !this.plan.startDate || !this.plan.endDate || this.plan.hashtag.length === 0) {\n        alert(\"양식을 모두 입력해주세요.\");\n        return;\n      }\n      this.$store.dispatch(\"planData\", this.plan);\n      this.$router.push({\n        name: \"planmodify\"\n      });\n    }\n  }\n};","map":{"version":3,"names":["router","components","data","tag","plan","title","startDate","endDate","description","hashtag","props","writer","String","computed","memberId","$store","getters","getMemberId","planTitle","getPlanTitle","planDesc","getPlanDesc","planStartDate","getPlanStartDate","planEndDate","getPlanEndDate","planHashtag","getPlanHashtag","attractionList","getTempAttractionList","created","methods","removeHashtag","idx","splice","addHashtag","push","tagName","viewDetail","att","$emit","moveList","name","resetModal","handleOk","bvModalEvent","preventDefault","handleSubmit","length","alert","dispatch","$router"],"sources":["src/components/board/Plan/plan-item/PlanViewItem.vue"],"sourcesContent":["<template>\n  <div\n        class=\"container-fluid d-flex flex-column border flex-shrink-0 p-3 bg-light\"\n        id=\"back\"\n        style=\"width: 100%; height: 100vh;\"\n      >\n        <h2>{{writer}}님의 플랜</h2>\n        <hr />\n        <div class=\"list-group list-group-flush border-bottom scrollarea\">\n            <b-row class=\"my-1\" >\n      <b-col sm=\"5\">\n        제목:\n      </b-col>\n      <b-col sm=\"7\">\n        {{planTitle}}\n      </b-col>\n      <b-col sm=\"5\">\n        설명:\n      </b-col>\n      <b-col sm=\"7\">\n        {{planDesc}}\n      </b-col>\n      <b-col sm=\"5\">\n        시작일:\n      </b-col>\n      <b-col sm=\"7\">\n        {{planStartDate}}\n      </b-col>\n      <b-col sm=\"5\">\n        종료일:\n      </b-col>\n      <b-col sm=\"7\">\n        {{planEndDate}}\n      </b-col>\n    </b-row>\n    <b-modal\n            id=\"modal-prevent-closing\"\n            ref=\"modal\"\n            title=\"플랜 수정하기\"\n            @show=\"resetModal\"\n            @hidden=\"resetModal\"\n            @ok=\"handleOk\"\n            ok-title=\"확인\"\n            ok-variant=\"primary\"\n            cancel-title=\"취소\"\n            cancel-variant=\"secondary\"\n          >\n            <form ref=\"form\" @submit.stop.prevent=\"handleSubmit\">\n              <b-form-group\n                label=\"제목\"\n                label-for=\"title-input\"\n              >\n                <b-form-input\n                  id=\"title-input\"\n                  v-model=\"plan.title\"\n                  required\n                ></b-form-input>\n              </b-form-group>\n              <b-form-group\n                label=\"설명\"\n                label-for=\"description-input\"\n              >\n                <b-form-input\n                  id=\"description-input\"\n                  v-model=\"plan.description\"\n                  required\n                ></b-form-input>\n              </b-form-group>\n              <b-form-group\n                label=\"여행 출발 일자\"\n                label-for=\"startDate-input\"\n              >\n                <b-form-input\n                  id=\"startDate-input\"\n                  v-model=\"plan.startDate\"\n                  required\n                  type=\"date\"\n                ></b-form-input>\n              </b-form-group>\n               <b-form-group\n                label=\"여행 도착 일자\"\n                label-for=\"endDate-input\"\n              >\n                <b-form-input\n                  id=\"endDate-input\"\n                  v-model=\"plan.endDate\"\n                  required\n                  type=\"date\"\n                ></b-form-input>\n              </b-form-group>\n              <b-form-group\n                label=\"해시태그\"\n                label-for=\"hashtag-input\"\n              >\n                <b-form-input\n                  id=\"hashtag-input\"\n                  v-model=\"tag\"\n                  required\n                  @keypress.enter=\"addHashtag\"\n                >\n                </b-form-input>\n              </b-form-group>\n                <button class=\"btn btn-light rounded-pill px-2\" type=\"button\" v-for=\"(tag, idx) in plan.hashtag\" :key=\"idx\" @click=\"removeHashtag(idx)\">#{{tag.tagName}}</button>\n            </form>\n          </b-modal>\n        <b-button class=\"btn btn-outline-light btn-lg\"\n                style=\"background-color: orange; border-color: orange\"\n                size=\"sm\"\n                \n                v-b-modal.modal-prevent-closing\n                v-if=\"writer === memberId\"\n                >수정</b-button>\n        <b-button class=\"btn btn-outline-light btn-lg mt-1\"\n                style=\"background-color: orange; border-color: orange\"\n                size=\"sm\"\n                @click=\"moveList\"\n                >목록</b-button>\n        </div>\n        <hr />\n        <b-row class=\"mt-3 \" v-for=\"(att, idx) in attractionList\" :key=\"idx\">\n          <b-col>{{idx+1}}</b-col>\n            <b-col class=\"text-center\">{{att.title}}</b-col>\n            <b-col><b-button\n                id=\"btnArea\"\n                class=\"btn btn-outline-light btn-lg\"\n                style=\"background-color: orange; border-color: orange\"\n                size=\"sm\"\n                @click=\"viewDetail(att)\"\n                >더보기</b-button\n              ></b-col>\n        </b-row>\n      </div>\n</template>\n\n<script>\nimport router from \"@/router\";\nexport default {\n    components: {},\n    data() {\n        return {\n            tag: \"\",\n      plan: {\n        title: \"\",\n        startDate: \"\",\n        endDate: \"\",\n        description: \"\",\n        hashtag: []\n      },\n        };\n    },\n    props: {\n        writer: String\n    },\n     computed: {\n        memberId(){\n            return this.$store.getters.getMemberId;\n        },\n        planTitle(){\n            return this.$store.getters.getPlanTitle;\n        },\n        planDesc(){\n            return this.$store.getters.getPlanDesc;\n        },\n        planStartDate(){\n            return this.$store.getters.getPlanStartDate;\n        },\n        planEndDate(){\n            return this.$store.getters.getPlanEndDate;\n        },\n        planHashtag(){\n            return this.$store.getters.getPlanHashtag;\n        },\n        attractionList(){\n            return this.$store.getters.getTempAttractionList;\n        }\n    },\n    created() {\n    },\n    methods: {\n        removeHashtag(idx){\n      this.plan.hashtag.splice(idx, 1);\n    },\n    addHashtag(){\n      this.plan.hashtag.push({ tagName: this.tag})\n      this.tag = \"\";\n    },\n        viewDetail(att){\n            this.$emit(\"readAttraction\", att);\n        },\n        moveList(){\n            router.push({name: 'planlist'});\n        },\n        resetModal() {\n      this.plan.title = this.planTitle;\n      this.plan.description = this.planDesc;\n      this.plan.startDate = this.planStartDate;\n      this.plan.endDate = this.planEndDate;\n      this.tag = \"\";\n      this.plan.hashtag = this.planHashtag;\n    },\n    handleOk(bvModalEvent) {\n      // Prevent modal from closing\n      bvModalEvent.preventDefault();\n      // Trigger submit handler\n      // this.handleSubmit();\n      // this.$router.push(\"view\");\n      this.handleSubmit();\n    },\n    handleSubmit() {\n      // Exit when the form isn't valid\n      if (!this.plan.title || !this.plan.description || !this.plan.startDate\n      || !this.plan.endDate || this.plan.hashtag.length === 0 ) {\n        alert(\"양식을 모두 입력해주세요.\");\n        return;\n      }\n      this.$store.dispatch(\"planData\", this.plan);\n\n      this.$router.push({\n        name: \"planmodify\",\n      });\n    },\n    },\n};\n</script>\n\n<style scoped></style>"],"mappings":";AAuIA,OAAAA,MAAA;AACA;EACAC,UAAA;EACAC,KAAA;IACA;MACAC,GAAA;MACAC,IAAA;QACAC,KAAA;QACAC,SAAA;QACAC,OAAA;QACAC,WAAA;QACAC,OAAA;MACA;IACA;EACA;EACAC,KAAA;IACAC,MAAA,EAAAC;EACA;EACAC,QAAA;IACAC,SAAA;MACA,YAAAC,MAAA,CAAAC,OAAA,CAAAC,WAAA;IACA;IACAC,UAAA;MACA,YAAAH,MAAA,CAAAC,OAAA,CAAAG,YAAA;IACA;IACAC,SAAA;MACA,YAAAL,MAAA,CAAAC,OAAA,CAAAK,WAAA;IACA;IACAC,cAAA;MACA,YAAAP,MAAA,CAAAC,OAAA,CAAAO,gBAAA;IACA;IACAC,YAAA;MACA,YAAAT,MAAA,CAAAC,OAAA,CAAAS,cAAA;IACA;IACAC,YAAA;MACA,YAAAX,MAAA,CAAAC,OAAA,CAAAW,cAAA;IACA;IACAC,eAAA;MACA,YAAAb,MAAA,CAAAC,OAAA,CAAAa,qBAAA;IACA;EACA;EACAC,QAAA,GACA;EACAC,OAAA;IACAC,cAAAC,GAAA;MACA,KAAA7B,IAAA,CAAAK,OAAA,CAAAyB,MAAA,CAAAD,GAAA;IACA;IACAE,WAAA;MACA,KAAA/B,IAAA,CAAAK,OAAA,CAAA2B,IAAA;QAAAC,OAAA,OAAAlC;MAAA;MACA,KAAAA,GAAA;IACA;IACAmC,WAAAC,GAAA;MACA,KAAAC,KAAA,mBAAAD,GAAA;IACA;IACAE,SAAA;MACAzC,MAAA,CAAAoC,IAAA;QAAAM,IAAA;MAAA;IACA;IACAC,WAAA;MACA,KAAAvC,IAAA,CAAAC,KAAA,QAAAa,SAAA;MACA,KAAAd,IAAA,CAAAI,WAAA,QAAAY,QAAA;MACA,KAAAhB,IAAA,CAAAE,SAAA,QAAAgB,aAAA;MACA,KAAAlB,IAAA,CAAAG,OAAA,QAAAiB,WAAA;MACA,KAAArB,GAAA;MACA,KAAAC,IAAA,CAAAK,OAAA,QAAAiB,WAAA;IACA;IACAkB,SAAAC,YAAA;MACA;MACAA,YAAA,CAAAC,cAAA;MACA;MACA;MACA;MACA,KAAAC,YAAA;IACA;IACAA,aAAA;MACA;MACA,UAAA3C,IAAA,CAAAC,KAAA,UAAAD,IAAA,CAAAI,WAAA,UAAAJ,IAAA,CAAAE,SAAA,IACA,MAAAF,IAAA,CAAAG,OAAA,SAAAH,IAAA,CAAAK,OAAA,CAAAuC,MAAA;QACAC,KAAA;QACA;MACA;MACA,KAAAlC,MAAA,CAAAmC,QAAA,kBAAA9C,IAAA;MAEA,KAAA+C,OAAA,CAAAf,IAAA;QACAM,IAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}